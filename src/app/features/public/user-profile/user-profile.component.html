<div class="profile-container">
    <h2>User Profile</h2>
    <ng-container *ngIf="user">
        <form #userProfileForm="ngForm" (ngSubmit)="saveProfile()">
            <div class="form-group">
                <label for="userName">Username:</label>
                <input type="text" id="userName" [(ngModel)]="user.userName" name="userName" class="form-control"
                    [readonly]="true" />
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" [(ngModel)]="user.email" name="email" class="form-control"
                    [readonly]="true" />
            </div>

            <div class="form-group">
                <label for="fullName">Full Name:</label>
                <input type="text" id="fullName" [(ngModel)]="user.fullName" name="fullName" class="form-control"
                    [readonly]="!isEditable" />
            </div>

            <div class="form-group">
                <label for="address">Address:</label>
                <textarea id="address" [(ngModel)]="user.address" name="address" class="form-control"
                    [readonly]="!isEditable"></textarea>
            </div>

            <button type="submit" class="btn btn-primary" [disabled]="!isEditable">Save</button>
            <button type="button" class="btn btn-warning" (click)="toggleEdit()">
                {{ isEditable ? 'Cancel' : 'Edit' }}
            </button>
            <a [routerLink]="['/']" class="btn btn-secondary">Back</a>
        </form>
    </ng-container>
    <div *ngIf="updateMessage" class="mt-4 alert"
        [ngClass]="{ 'alert-success': updateMessage.includes('success'), 'alert-danger': updateMessage.includes('Failed') }">
        {{ updateMessage }}
    </div>
</div>